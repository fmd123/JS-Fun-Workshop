<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Credit Card Challenge</title>
  </head>
  <body>
    <script>
    var creditCardArray = ['4916-2600-1804-0530', '4779-252888-3972', '4252-278893-7978', '4556-4242-9283-2260'];


function creditChallenge(arr){
	var noDashNumArray = [];
	var noDash;

	var concatArray =[];
	var sumArray =[];
	var highestArray =[];
	var highest;
	for (i=0; i<creditCardArray.length; i++){
		var concat='';//each time move on to a new element in creditCardArray need to reset concat
		noDashNumArray = creditCardArray[i].split("-");
		//console.log(noDashNumArray);
		for (j=0;j<noDashNumArray.length;j++){
			concat += noDashNumArray[j];
			}
			concatArray.push(concat);
			}//for loop end

			console.log ("credit card numbers without dashes: " + concatArray);
			//concatArray is an array of credit card strings without dashes




	for (k=0; k<concatArray.length; k++){
		var sum = 0;
		for(l=0; l<concatArray[k].length;l++){
			sum +=concatArray[k][l];
		}
		sumArray.push(sum);
	}//end of k for-loop

//console.log(sumArray);

	for (m=0; m<sumArray.length;m++ ){
		sum =0;
		for (n=0; n<sumArray[m].length;n++){

		sum +=parseInt(sumArray[m][n], 10);

		}
		highestArray.push(sum);
	}

	console.log("sums of each credit card number: " + highestArray);

	for (p = 0; p<highestArray.length; p++){
			if (highestArray[p+1] > highestArray[p]|| highestArray[p+1] == highestArray[p]) {
				highest = creditCardArray[p+1]

			}
	}

console.log("Last credit card with highest sum is: " + highest);
return highest;
}
creditChallenge(creditCardArray);
/*--------------------------------------------------------------------------*/
//splice will return only the item removed. I don't want that method.
//step 1 DONE remove the dashes

//step 2 DONE concat all the numbers in string elements.
//After removing the dashes with split method I have arrays of multi-digit numbers.
//if I concatenate noDashNumArray elements will they concatenate or coerce to numbers?
//try it! it concatenates and does not coerce to numbers.
//I did have to make sure to reset concat to "" for each iteration of loop.
//otherwise I would have returned one giant string with all creditcard strings concat'd.

//step 3 DONE! :-) Sum each element of concatArray and collect the values in an array
	//I need to go from string to number? Yes. I'll do it digit by digit. parseInt

//step 4 Iterate through highestArray and find the highest value.
//"Since there are two which have the same sum,
//the function should return the last one with that sum, in this case '4252-278893-7978'"
// Math.max() probably won't work because 2 highest numbers. Nope. returns NaN.

//step 5 Match the index of this highest value to the index in creditCardArray and return the creditcard number associated with this highest sum.


 /*
For this challenge, we are interested in finding the credit card number whose digits sum to the largest number. If more than one has the same largest sum of digits, we want the last one in the list with that sum.
Write a single function that takes one argument. That argument will be an array  of credit card numbers. Assume the array can have any number of credit card numbers and each one is a string of digits and dashes. Your function should return the credit card number that has the largest sum of digits.

Here is a sample array of credit card numbers:
['4916-2600-1804-0530', '4779-252888-3972', '4252-278893-7978', '4556-4242-9283-2260']

In the sample array above, the digits add up to 49, 81, 81, and 64 respectively. Since there are two which have the same sum, the function should return the last one with that sum, in this case '4252-278893-7978'
Things to accomplish:

Contain all variables and code needed within a function.
Have that function take one argument which will be an array of credit card number strings.
Determine the sum of digits for each credit card number.
Determine which credit card number has the last largest sum of digits.
Use a return statement to return the required card number in itsâ€™ original form.
*/





    </script>
  </body>
</html>
